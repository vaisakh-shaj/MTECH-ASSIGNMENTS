a{1}=[-1 -1 -1 -1 -1 1 1 -1 -1 -1 -1 -1;
        -1 -1 -1 -1 -1 1 1 -1 -1 -1 -1 -1;
        -1 -1 -1 -1 -1 1 1 -1 -1 -1 -1 -1;
        -1 -1 -1 -1 1 1 1 1 -1 -1 -1 -1;
        -1 -1 -1 1 1 1 1 1 1 -1 -1 -1;
        -1 -1 1 1 1 1 1 1 1 1 -1 -1;
        -1 1 1 1 -1 1 1 -1 1 1 1 -1;
        1 1 1 -1 -1 1 1 -1 -1 1 1 1;
        1 1 -1 -1 -1 1 1 -1 -1 -1 1 1;
        1 -1 -1 -1 -1 1 1 -1 -1 -1 -1 1; 
        -1 -1 -1 -1 1 1 1 1 -1 -1 -1 -1;
        -1 -1 -1 -1 1 -1 -1 1 -1 -1 -1 -1]
a{2}=[-1 -1 -1 -1 -1 1 1 -1 -1 -1 -1 -1; 
      -1 -1 -1 -1 1 1 1 1 -1 -1 -1 -1;
      -1 -1 -1 -1 -1 1 1 -1 -1 -1 -1 -1;
      -1 -1 -1 -1 -1 1 1 -1 -1 -1 -1 -1;
      -1 -1 -1 -1 -1 1 1 -1 -1 -1 -1 -1;
      -1 1 -1 -1 -1 1 1 -1 -1 -1 1 -1;
      -1 -1 1 -1 -1 1 1 -1 -1 1 -1 -1;
      -1 -1 -1 1 1 1 1 1 1 -1 -1 -1;
      -1 -1 1 1 1 1 1 1 1 1 -1 -1;
      -1 -1 -1 1 1 1 1 1 1 -1 -1 -1; 
      -1 -1 1 -1 -1 1 1 -1 -1 1 -1 -1;
      -1 1 -1 -1 -1 -1 -1 -1 -1 -1 1 -1]
a{3}=[-1 -1 -1 -1 1 1 1 1 -1 -1 -1 -1;
      -1 -1 -1 -1 -1 1 1 -1 -1 -1 -1 -1;
      -1 -1 -1 -1 -1 1 1 -1 -1 -1 -1 -1;
      -1 -1 -1 -1 -1 1 1 -1 -1 -1 -1 -1;
      -1 -1 -1 -1 -1 1 1 -1 -1 -1 -1 -1; 
      -1 1 1 -1 -1 1 1 -1 -1 1 1 -1;
      -1 1 1 -1 1 1 1 1 -1 1 1 -1;
      -1 1 1 1 1 1 1 1 1 1 1 -1;
      -1 1 1 1 1 1 1 1 1 1 1 -1;
      -1 1 1 -1 1 1 1 1 -1 1 1 -1;
      -1 1 1 -1 -1 1 1 -1 -1 1 1 -1;
      -1 1 1 -1 -1 -1 -1 -1 -1 1 1 -1]
  b{1}=[-1 -1 -1 1 1 1 1 -1 -1 -1;
       -1 -1 -1 1 1 1 1 -1 -1 -1;
       -1 -1 -1 1 1 1 1 -1 -1 -1;
       -1 -1 -1 1 1 1 1 -1 -1 -1; 
       -1 -1 -1 1 1 1 1 -1 -1 -1; 
       -1 -1 -1 1 1 1 1 -1 -1 -1;
       -1 -1 -1 1 1 1 1 -1 -1 -1;
       -1 -1 -1 1 1 1 1 -1 -1 -1; 
       -1 -1 -1 1 1 1 1 -1 -1 -1; 
       -1 -1 -1 1 1 1 1 -1 -1 -1;
       -1 -1 -1 1 1 1 1 -1 -1 -1;
       -1 -1 -1 1 1 1 1 -1 -1 -1]
   b{2}=[1 1 1 1 1 1 1 1 -1 -1;
        1 1 1 1 1 1 1 1 -1 -1; 
        -1 -1 -1 -1 -1 -1 1 1 -1 -1;
        -1 -1 -1 -1 -1 -1 1 1 -1 -1;
        -1 -1 -1 -1 -1 -1 1 1 -1 -1;
        1 1 1 1 1 1 1 1 -1 -1;
        1 1 1 1 1 1 1 1 -1 -1;
        1 1 -1 -1 -1 -1 -1 -1 -1 -1;
        1 1 -1 -1 -1 -1 -1 -1 -1 -1;
        1 1 -1 -1 -1 -1 -1 -1 -1 -1;
        1 1 1 1 1 1 1 1 -1 -1;
        1 1 1 1 1 1 1 1 -1 -1]
    b{3}=[-1 -1 1 1 1 1 1 1 -1 -1;
           -1 -1 1 1 1 1 1 1 1 -1;
           -1 -1 -1 -1 -1 -1 -1 1 1 -1;
           -1 -1 -1 -1 -1 -1 -1 1 1 -1;
           -1 -1 -1 -1 -1 -1 -1 1 1 -1;
           -1 -1 -1 -1 1 1 1 1 -1 -1
           -1 -1 -1 -1 1 1 1 1 -1 -1;
           -1 -1 -1 -1 -1 -1 -1 1 1 -1;
           -1 -1 -1 -1 -1 -1 -1 1 1 -1;
           -1 -1 -1 -1 -1 -1 -1 1 1 -1;
           -1 -1 1 1 1 1 1 1 1 -1;
           -1 -1 1 1 1 1 1 1 1 -1]
distort=[1 -1 -1 -1 -1 -1 1 1 -1 -1 -1 -1;
      -1 -1 -1 -1 -1 -1 1 1 -1 -1 -1 1;
      -1 -1 -1 1 1 1 1 -1 -1 -1 1 -1;
      -1 1 -1 -1 1 1 -1 1 1 -1 -1 -1;
      1 1 1 1 1 -1 1 1 1 1 1 -1;
      -1 1 1 1 -1 1 1 1 1 1 1 -1;
      -1 1 1 1 -1 1 1 1 1 1 1 -1;
      1 1 1 1 -1 1 1 -1 1 1 1 -1;
      1 1 1 1 -1 1 1 -1 1 1 1 -1;
      1 -1 -1 -1 -1 -1 1 -1 1 1 -1 1;
      1 -1 1 -1 -1 1 1 -1 1 -1 -1 1;
      -1 1 -1 -1 1 -1 1 1 1 -1 -1 -1] 
  [m,n]=size(a{1});
  M=zeros(m);
  for i=1:3
      M=M+(a{i})*(a{i})';
  end
  input=distort;
  output=M*input;
  for i= 1:m
      for j=1:m
          if(output(i,j)>0)
              output(i,j)=1;
          end
          if(output(i,j)<0)
              output(i,j)=-1;
          end
          if(output(i,j)==0)
              output(i,j)=input(i,j);
          end
      end
  end
  figure
  imagesc(input)
  pause;
  imagesc(output)
  title('OUTPUT');
